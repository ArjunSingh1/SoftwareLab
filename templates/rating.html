<!DOCTYPE html>
<html lang = "en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<title>Rating</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}
.topnav {
  overflow: hidden;
  background-color: #333;
}
.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}
.topnav a:hover {
  background-color: #ddd;
  color: black;
}
.topnav a.active {
  background-color: #4CAF50;
  color: white;
}

.wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
  height: 300px;
  margin-bottom: 35px;
}

figure{
  background-color: #ddd;
  margin-bottom:30px;
}
figure:hover{
  color:white;
  background-color: #333;
  border-color: white;
}

</style>
</head>


<div class="topnav">
  <a href="{{url_for('home')}}">Home</a>
  <a href="{{url_for('consoles')}}">Consoles</a>
  <a href="{{url_for('index')}}">Search Games</a>
  <a class="active" href="{{url_for('rating')}}">Rating</a>
  <a href="{{url_for('about')}}">About</a>
</div>

<body>
<div align = "center">
    <h2 id="title">Top 10 Games by Engagement</h2>
  <p>Rating of games based on community engagement!</p>
  <p>Our metric of engagement is defined by upvotes so will use the Top sorting parameter. </p>
  <p>The aggregate sum of the first few posts will be the Reddit score of the game.</p>
  <p>The higher the score, the better the game.</p>
<br>
<div class="displaybox">
<form name = "comboform">
Display Top
<select id="combo" onchange="check()">
<option name="10" value="10" selected>10</option>
<option name="20" value="20">20</option>
<option name="30" value="30">30</option>
<option name="40" value="40">40</option>
<option name="50" value="50">50</option>
</select>
Games by Engagement
</form>
</div>

<script>


function check ()
{
    var num = document.getElementById('combo').value;

    if(num ==10){
        document.getElementById("title").innerHTML = "Top 10 Games by Engagement";
        hide2();
        hide3();
        hide4();
        hide5();
    }
    if(num==20){
        document.getElementById("title").innerHTML = "Top 20 Games by Engagement";
        hide1();
        hide3();
        hide4();
        hide5();
    }
    if(num==30){
        document.getElementById("title").innerHTML = "Top 30 Games by Engagement";
        hide1();
        hide2();
        hide4();
        hide5();
    }
    if(num==40){
        document.getElementById("title").innerHTML = "Top 40 Games by Engagement";
        hide1();
        hide2();
        hide3();
        hide5();
    }
    if(num==50){
        document.getElementById("title").innerHTML = "Top 50 Games by Engagement";
        hide1();
        hide2();
        hide3();
        hide4();
    }

}

function hide1() {
  document.getElementById("display").style.visibility = "hidden";
}

function hide2() {
  document.getElementById("display2").style.visibility = "hidden";
}

function hide3() {
  document.getElementById("display3").style.visibility = "hidden";
}

function hide4() {
  document.getElementById("display4").style.visibility = "hidden";
}

function hide5() {
  document.getElementById("display5").style.visibility = "hidden";
}
</script>


<div class="wrapper" id = "display">
    {% set i = 1 %}
    {% for game in games: %}
    {% set gs = game.score * 10000 %}
  <figure style="margin:20px;border-style:solid;border-radius:10px;">

    <div align="center" style="width:100%;height:100%">
      <div style="height:75%">
        <img style="width:80%;height:100%;vertical-align:middle;" align=center src="{{game.link}}" alt="missing"/>
      </div>
      <div style="width:100%;vertical-align:bottom;height:25%">
          <h5 align=center><strong>Rank: {{ i }}</strong></h5>
          <h5 align=center><strong>Name: {{game.title}}</strong></h5>
          <h5 align=center><strong>Engagement Score: {{ gs }}</strong></h5>
      </div>
    </div>
  </figure>
    {% set i = i + 1 %}
    {% endfor %}
</div>
<div class="wrapper" id = "display2">
    {% set i = 1 %}
    {% for game in games2: %}
    {% set gs = game.score * 10000 %}
  <figure style="margin:20px;border-style:solid;border-radius:10px;">

    <div align="center" style="width:100%;height:100%">
      <div style="height:75%">
        <img style="width:80%;height:100%;vertical-align:middle;" align=center src="{{game.link}}" alt="missing"/>
      </div>
      <div style="width:100%;vertical-align:bottom;height:25%">
          <h5 align=center><strong>Rank: {{ i }}</strong></h5>
          <h5 align=center><strong>Name: {{game.title}}</strong></h5>
          <h5 align=center><strong>Engagement Score: {{ gs }}</strong></h5>
      </div>
    </div>
  </figure>
    {% set i = i + 1 %}
    {% endfor %}
</div>
<div class="wrapper" id = "display3">
    {% set i = 1 %}
    {% for game in games3: %}
    {% set gs = game.score * 10000 %}
  <figure style="margin:20px;border-style:solid;border-radius:10px;">

    <div align="center" style="width:100%;height:100%">
      <div style="height:75%">
        <img style="width:80%;height:100%;vertical-align:middle;" align=center src="{{game.link}}" alt="missing"/>
      </div>
      <div style="width:100%;vertical-align:bottom;height:25%">
          <h5 align=center><strong>Rank: {{ i }}</strong></h5>
          <h5 align=center><strong>Name: {{game.title}}</strong></h5>
          <h5 align=center><strong>Engagement Score: {{ gs }}</strong></h5>
      </div>
    </div>
  </figure>
    {% set i = i + 1 %}
    {% endfor %}
</div>

<div class="wrapper" id = "display4">
    {% set i = 1 %}
    {% for game in games4: %}
    {% set gs = game.score * 10000 %}
  <figure style="margin:20px;border-style:solid;border-radius:10px;">

    <div align="center" style="width:100%;height:100%">
      <div style="height:75%">
        <img style="width:80%;height:100%;vertical-align:middle;" align=center src="{{game.link}}" alt="missing"/>
      </div>
      <div style="width:100%;vertical-align:bottom;height:25%">
          <h5 align=center><strong>Rank: {{ i }}</strong></h5>
          <h5 align=center><strong>Name: {{game.title}}</strong></h5>
          <h5 align=center><strong>Engagement Score: {{ gs }}</strong></h5>
      </div>
    </div>
  </figure>
    {% set i = i + 1 %}
    {% endfor %}
</div>

<div class="wrapper" id = "display5">
    {% set i = 1 %}
    {% for game in games5: %}
    {% set gs = game.score * 10000 %}
  <figure style="margin:20px;border-style:solid;border-radius:10px;">

    <div align="center" style="width:100%;height:100%">
      <div style="height:75%">
        <img style="width:80%;height:100%;vertical-align:middle;" align=center src="{{game.link}}" alt="missing"/>
      </div>
      <div style="width:100%;vertical-align:bottom;height:25%">
          <h5 align=center><strong>Rank: {{ i }}</strong></h5>
          <h5 align=center><strong>Name: {{game.title}}</strong></h5>
          <h5 align=center><strong>Engagement Score: {{ gs }}</strong></h5>
      </div>
    </div>
  </figure>
    {% set i = i + 1 %}
    {% endfor %}
</div>

</div>
</body>
</html>